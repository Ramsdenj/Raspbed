# Maintainer: John Ramsden <RamsdenJ@shaw.ca>
pkgname=raspbed
pkgver=1.2
pkgrel=1
pkgdesc="Controller and call bell for Volker hospital bed."
arch=('any')
url="https://github.com/Ramsdenj/Raspbed"
license=('GPL3')
depends=('qt5-base' 'boost')
optdepends=('skype: Call bell support')
makedepends=('git')
install=${pkgname}.install
changelog=${pkgname}.Changelog

_gitroot="https://github.com/Ramsdenj/Raspbed.git"
_gitname="${pkgname}"
_gitpackage="Packages/Arch"

build() {
	cd "${srcdir}"
	git clone "${_gitroot}" "${_gitname}"
	cd "${_gitname}/${_gitpackage}/${pkgname}-${pkgver}"
	
	qmake || return 1
}

check() {
	cd "${pkgname}-${pkgver}/src"
	make -k check
}

package() {
	cd "$pkgname-${pkgver}/src"
	make DESTDIR="${pkgdir}/usr/bin" install
}
